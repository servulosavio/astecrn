#{extends 'administrativo.html' /} 
#{set title:'Lista de Associados' /}

<head>
	<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
</head>

<div class="row">
	#{if flash.success}
		<div class="chip waves-effect waves-light green darken-4 white-text col s12 center">${flash.success.raw()}<i class="close material-icons">close</i></div>
	#{/if}
	
	<div class="col s12 center">
		<h5>Lista de Associados</h5>
	</div>
	
	<div class="col s12">
		<ul class="tabs tabs-fixed-width">
			<li class="tab col s3"><a class="active" href="#test1">ATIVOS</a></li>
			<li class="tab col s3"><a href="#test2">INATIVOS</a></li>
		</ul>
	</div>
	
	<!-- LISTA DE ASSOCIADOS ATIVOS -->
	<div id="test1" class="col s12">
	
		<table class="table dataTable" id="dataTable">
			<thead>
				<th rowspan="1" colspan="1">Nome</th>
				<th rowspan="1" colspan="1">Telefone</th>
				<th rowspan="1" colspan="1">Cidade</th>
				<th rowspan="1" colspan="1">Assistência</th>
				<th>Ações</th>
			</thead>
			<tbody>
				#{list items:associados, as:'associado'}
				<tr role="row">
					#{if associado.status.toString().equals("ATIVO")}
					<td>${associado.nome}</td>
					<td>${associado.telefone}</td>
					<td>${associado.cidade}</td>
					<td>${associado.assistencia}</td>
					<td>
						<a href="@{Associados.detalhes(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Visualizar"><i class="material-icons">visibility</i></a>
		           		<a href="@{Associados.editar(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Editar"><i class="material-icons">create</i></a>
		           	  	<a href="@{Associados.inativar(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Inativar"><i class="material-icons">cancel</i></a>
		           	</td>
		           	#{/if}
				</tr>
				#{/list}
			</tbody>
		</table>
	</div>
	
	
	<!-- LISTA DE ASSOCIADOS INATIVOS -->
	<div id="test2" class="col s12">
	
		<table class="table dataTable" id="dataTable">
			<thead>
				<th rowspan="1" colspan="1">Nome</th>
				<th rowspan="1" colspan="1">Telefone</th>
				<th rowspan="1" colspan="1">Cidade</th>
				<th rowspan="1" colspan="1">Assistência</th>
				<th>Ações</th>
			</thead>
			<tbody>
				#{list items:associados, as:'associado'}
				<tr role="row">
					#{if associado.status.toString().equals("INATIVO")}
					<td>${associado.nome}</td>
					<td>${associado.telefone}</td>
					<td>${associado.cidade}</td>
					<td>${associado.assistencia}</td>
					<td>
						<a href="@{Associados.detalhes(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Visualizar"><i class="material-icons">visibility</i></a>
		           		<a href="@{Associados.editar(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Editar"><i class="material-icons">create</i></a>
		           	  	<a href="@{Associados.ativar(associado.id)}" class="tooltipped" data-position="bottom" data-delay="50" data-tooltip="Ativar"><i class="material-icons">check_circle</i></a>
		           	</td>
		           	#{/if}
				</tr>
				#{/list}
			</tbody>
		</table>
	</div>
	
</div>

